name: Run tests

on: [push, pull_request]

jobs:  
  test:
    runs-on: ubuntu-latest

    steps:
    - name: Clone supercharge website repository
      uses: actions/checkout@master
      with:
        repository: tosunthex/CoinGecko_NodeJS_test
        token: ${{ secrets.G_ACCESS_TOKEN }}
        ref: CoinGecko_NodeJs
        node-version: 14

    - run: npm install mocha
    - run: npm install chai
    - run: node_modules/mocha/bin/mocha test/CoinGecko.tests.js
